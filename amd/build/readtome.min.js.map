{"version":3,"file":"readtome.min.js","sources":["../src/readtome.js"],"sourcesContent":["define(['jquery', 'core/str'], function($, M) {\n    var readtome = {\n        init: function() {\n            if (typeof window.speechSynthesis !== 'undefined') {\n                $('p, h1, h2, h3, h4, h5, span, a, label').hover(\n                    function() {\n                        $(this).addClass('currentlySpeaking');\n                        window.speechSynthesis.cancel();\n                        var speakText = $(this).text();\n                        var speakTimer = setTimeout(function() {\n                            var msg = new SpeechSynthesisUtterance(speakText);\n                            msg.rate = 0.8;\n                            msg.lang = 'en-GB';\n                            $(this).addClass('currentlySpeakingHighlight');\n                            window.speechSynthesis.speak(msg);\n                            window.speechSynthesis.speak(\"What's up?\");\n                            $(this).removeClass('currentlySpeaking');\n                        }, 1500);\n                        if (typeof speakTimer !== 'undefined') {\n                            clearTimeout(speakTimer);\n                        }\n                    },\n                    function() {\n                        window.speechSynthesis.cancel();\n                        $(this).removeClass('currentlySpeaking');\n                        $(this).removeClass('currentlySpeakingHighlight');\n                    }\n                );\n            } else {\n                $('<div class=\"alert alert-danger\">' + M.get_string(\"readtomealert\", \"local_accessibilitytool\") +\n                '</div>').insertBefore(\"#page-content\");\n            }\n        }\n    };\n\n    return readtome;\n});\n"],"names":["define","$","M","init","window","speechSynthesis","hover","this","addClass","cancel","speakText","text","speakTimer","setTimeout","msg","SpeechSynthesisUtterance","rate","lang","speak","removeClass","clearTimeout","get_string","insertBefore"],"mappings":"AAAAA,0CAAO,CAAC,SAAU,aAAa,SAASC,EAAGC,SACxB,CACXC,KAAM,gBACoC,IAA3BC,OAAOC,gBACdJ,EAAE,yCAAyCK,OACvC,WACIL,EAAEM,MAAMC,SAAS,qBACjBJ,OAAOC,gBAAgBI,aACnBC,UAAYT,EAAEM,MAAMI,OACpBC,WAAaC,YAAW,eACpBC,IAAM,IAAIC,yBAAyBL,WACvCI,IAAIE,KAAO,GACXF,IAAIG,KAAO,QACXhB,EAAEM,MAAMC,SAAS,8BACjBJ,OAAOC,gBAAgBa,MAAMJ,KAC7BV,OAAOC,gBAAgBa,MAAM,cAC7BjB,EAAEM,MAAMY,YAAY,uBACrB,WACuB,IAAfP,YACPQ,aAAaR,eAGrB,WACIR,OAAOC,gBAAgBI,SACvBR,EAAEM,MAAMY,YAAY,qBACpBlB,EAAEM,MAAMY,YAAY,iCAI5BlB,EAAE,mCAAqCC,EAAEmB,WAAW,gBAAiB,2BACrE,UAAUC,aAAa"}